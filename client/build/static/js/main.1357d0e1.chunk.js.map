{"version":3,"sources":["components/AllAuthors.jsx","components/CreateAuthor.jsx","components/UpdateAuthor.jsx","App.js","reportWebVitals.js","index.js"],"names":["AllAuthors","useState","allAuthors","setAllAuthors","deleteClicked","setDeleteClicked","useEffect","axios","get","then","res","console","log","data","results","catch","err","className","to","map","author","i","name","_id","onClick","e","authorId","delete","CreateAuthor","formInfo","setFormInfo","errors","setErrors","onSubmit","preventDefault","post","navigate","htmlFor","onChange","target","value","type","id","message","UpdateAuthor","props","authorDetails","setAuthorDetails","put","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1357d0e1.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from '@reach/router';\r\n\r\nconst AllAuthors = () => {\r\n\r\n    const[allAuthors, setAllAuthors] = useState([]);\r\n    const[deleteClicked, setDeleteClicked] = useState(0); \r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:8000/api/authors/\")\r\n        .then(res => {\r\n            console.log(`***********`);\r\n            console.log(res);\r\n            console.log(`***********`);\r\n            setAllAuthors(res.data.results);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }, [deleteClicked]);\r\n\r\n    const deleteHandler =(e, authorId)=>{\r\n        axios.delete(`http://localhost:8000/api/authors/delete/${authorId}`)\r\n        .then(res=>{\r\n            console.log(`***********`);\r\n            console.log(res)\r\n            console.log(`***********`);\r\n            setDeleteClicked(deleteClicked+1)\r\n            // navigate(\"/\")\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <Link to =\"/authors/create\">Add an author</Link>\r\n            <h3>We have quotes by:</h3>\r\n            {\r\n                allAuthors.map((author, i)=>{\r\n                    return(\r\n                        <tr key={i}>\r\n                            <td>{author.name}</td>\r\n                            <td><Link to={`/authors/update/${author._id}`} className=\"btn btn-warning\">Edit</Link></td> | \r\n                            <td><Link onClick={(e)=>deleteHandler(e, author._id)} to={`#!`} className=\"btn btn-danger\">Delete</Link></td>\r\n                        </tr>\r\n                    );\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default AllAuthors;","import React, {useState, useEffect} from 'react';\r\nimport {Link, navigate} from '@reach/router';\r\nimport axios from 'axios';\r\n\r\nconst CreateAuthor = () => {\r\n\r\n    const[formInfo, setFormInfo] = useState({\r\n        name:''\r\n    })\r\n    const[errors, setErrors]= useState({})\r\n\r\n    const changeHandler=(e)=>{\r\n        setFormInfo({\r\n            ...formInfo,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const submitHandler=(e)=>{\r\n        e.preventDefault();\r\n        axios.post(\"http://localhost:8000/api/authors/create\", formInfo)\r\n        .then(res=>{\r\n            //if errs then res.data.errors\r\n            if(res.data.errors){\r\n                setErrors(res.data.errors)\r\n            }else{\r\n                navigate(\"/\")\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <Link to='/'>Home</Link>\r\n            <h3>Add a new author : </h3>\r\n\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"\">Name : </label>\r\n                    \r\n                    <input onChange={changeHandler} type=\"text\" className=\"form-control\" id=\"\" name=\"name\"/>\r\n                    <p className=\"text-danger\">{errors.name? errors.name.message: \"\"}</p>\r\n                </div>\r\n                \r\n                <button type=\"submit\" className=\"btn btn-success\">Submit</button>\r\n                <Link to=\"/\" className=\"btn btn-warning\">Cancel</Link>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default CreateAuthor;","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {navigate, Link} from '@reach/router';\r\n\r\nconst UpdateAuthor = (props) => {\r\n\r\n    const[authorDetails, setAuthorDetails] = useState({\r\n        name:\"\"\r\n    })\r\n    const[errors, setErrors] = useState({})\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://localhost:8000/api/authors/${props.id}`)\r\n            .then(res => {\r\n                console.log(`***********`);\r\n                console.log(res.data);\r\n                console.log(`***********`);\r\n                setAuthorDetails(res.data.results);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    const changeHandler=(e)=>{\r\n        setAuthorDetails({\r\n            ...authorDetails,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const submitHandler=(e)=>{\r\n        e.preventDefault();\r\n        axios.put(`http://localhost:8000/api/authors/update/${props.id}`, authorDetails)\r\n        .then(res=>{\r\n            //if errs then res.data.errors\r\n            if(res.data.errors){\r\n                setErrors(res.data.errors)\r\n            }else{\r\n                navigate(\"/\")\r\n            }\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Update this author</h3>\r\n            <form onSubmit={submitHandler}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"\">Name</label>             \r\n                    <input onChange={changeHandler} type=\"text\" className=\"form-control\" id=\"\" name=\"name\" value={authorDetails.name}/>\r\n                    <p className=\"text-danger\">{errors.name? errors.name.message: \"\"}</p>     \r\n                <button type=\"submit\" className=\"btn btn-success\">Update</button>\r\n                <Link to ='/' className=\"btn btn-warning\">Cancel</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default UpdateAuthor;","\nimport './App.css';\nimport {Router, Link} from '@reach/router';\nimport AllAuthors from \"./components/AllAuthors\";\nimport CreateAuthor from \"./components/CreateAuthor\";\nimport UpdateAuthor from \"./components/UpdateAuthor\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"container mt-5\">\n      <h1>Favorite authors</h1>\n      \n      <Router>\n        <AllAuthors path='/'></AllAuthors>\n        <CreateAuthor path='/authors/create'></CreateAuthor>\n        <UpdateAuthor path=\"/authors/update/:id\"></UpdateAuthor>\n\n      </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}